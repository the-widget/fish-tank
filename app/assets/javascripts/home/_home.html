
  <welcome></welcome>

  <h4><span class='addPost btn label label-success' ng-click='showAddPost()'>Add A New Post</span></h4>

  <div class="addPost" hidden="" >
    <form ng-submit="addPost()" ng-hide="" style="margin-top:30px";>
      <div class="form-group">
        <input type="text" placeholder="Title" ng-model="title" size="50"></input>
      </div>
      <div class="form-group">
        <input type="text" placeholder="Link - http://" ng-model="link" size="50"></input>
      </div>
        <h4><button type="submit" class="btn label label-success">Post</button></h4>
    </form><br>
  </div>

  <b><input type="checkbox" class="myposts" ng-checked="user.checked" ng-model="checked">My Posts</b>  <b><input type="text" class="search" ng-model="search" placeholder="Search"></b>
  <p>{{error}}</p>
  <hr>
<div class="text-left">
  <div ng-controller="MainCtrl" ng-if="checked" ng-repeat="post in posts | userPostsFilter:user.username |  filter:search | orderBy: '-upvotes'" >
    <span ng-click="incrementUpvotes(post)" class="glyphicon glyphicon-thumbs-up btn-xs"></span>
    <span ng-click="decrementUpvotes(post)" class="glyphicon glyphicon-thumbs-down btn-xs"></span>
    <span class="badge">{{post.upvotes}}</span>
    <span style="font-size:20px; margin-left:10px; margin-right:10px;">
      <a ng-show="post.link" href="{{post.link}}" target="_blank">
        {{post.title}} 
      </a>
      <span ng-hide="post.link">
        {{post.title}}
      </span>
    </span>
   - {{ post.user.username }}
    <span>
      <a href="#/posts/{{post.id}}">--Comments</a>
      <div id="tags-{{post.id}}">
        <post-tags ng-data={{post.id}}></post-tags>
      </div>
    </span><br>
  </div>
  
  <div ng-hide="checked" ng-repeat="post in posts | orderBy: '-upvotes'| filter:search ">
    <span ng-click="incrementUpvotes(post)" class="glyphicon glyphicon-thumbs-up btn-xs"></span>
    <span ng-click="decrementUpvotes(post)" class="glyphicon glyphicon-thumbs-down btn-xs"></span>
    <span class="badge">{{post.upvotes}}</span>
    <span style="font-size:20px; margin-left:10px; margin-right:10px;">
      <a ng-show="post.link" href="{{post.link}}" target="_blank">
        {{post.title}} 
      </a>
      <span ng-hide="post.link">
        {{post.title}}
      </span>
    </span>-{{post.user.username }}
  <strong><a href="#/posts/{{post.id}}">  Comments</a><br></strong> 
      <div id="tags-{{post.id}}">
        <post-tags ng-data={{post.id}}></post-tags>
      </div><br>
  </div>
</div>
  